<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Music Player</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#121212">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Music Player">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css" type="text/css"/>
    
        <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéµ</text></svg>">
    
 
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a style="text-decoration:none;" href="/">
            <div class="logo">
                <div class="logo-icon">
                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéµ</text></svg>
                    </div>
                <span>My Music</span>
            </div>
            </a>
            <button class="theme-toggle" id="themeToggle">
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
                </svg>
            </button>
        </div>
    </header>

    <!-- Navigation - Bottom Tabs -->
    <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="music">
            <div class="nav-tab-icon">‚ô™</div>
            <span>Music</span>
        </button>
        <button class="nav-tab" data-tab="playlists">
            <div class="nav-tab-icon">üìã</div>
            <span>Playlists</span>
        </button>
        <button class="nav-tab" data-tab="settings">
            <div class="nav-tab-icon">‚öôÔ∏è</div>
            <span>Settings</span>
        </button>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <!-- Music Tab -->
        <div class="tab-content active" id="music">
            <div class="music-header">
                <h2>Your Library</h2>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search songs, artists..." id="searchInput">
                </div>
            </div>
            
            <div class="track-list">
                <div class="track-list-header">
                    <span>#</span>
                    <span>Title</span>
                    <!--<span>Album</span>-->
                    <span>Duration</span>
                    <span></span>
                </div>
                <div id="musicList">
                    <!-- Music tracks will be populated here -->
                </div>
            </div>
        </div>

        <!-- Playlists Tab -->
        <div class="tab-content" id="playlists">
            <!-- Playlist List View -->
            <div class="playlist-list-view">
                <div class="section-card">
                    <h2 class="section-title">Create Playlist</h2>
                    <div class="form-group">
                        <input type="text" class="form-input" placeholder="Playlist name..." id="playlistNameInput">
                        <button class="btn" id="createPlaylistBtn">Create</button>
                    </div>
                </div>

                <div class="playlist-list" id="playlistsList">
                    <!-- Playlists will be populated here -->
                </div>
            </div>

            <!-- Playlist Detail View - Hidden by default -->
            <div class="playlist-detail" id="playlistDetail" style="display: none;">
                <button class="back-btn" id="backToPlaylistsBtn">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="m15 18-6-6 6-6"/>
                    </svg>
                </button>

                <div class="playlist-detail-header">
                    <div class="playlist-detail-art player-art" id="playlistDetailArt">üìã</div>
                    <div class="playlist-detail-info">
                        <div class="playlist-detail-name" id="playlistDetailName">Playlist Name</div>
                        <div class="playlist-detail-meta">
                            <span id="playlistDetailCount">0 songs</span> ‚Ä¢ 
                            <span id="playlistDetailDuration">0 min</span>
                        </div>
                        <div class="playlist-detail-actions">
                            <button class="btn" id="playPlaylistBtn">Play All</button>
                            <button class="btn btn-secondary" id="deletePlaylistBtn">Delete</button>
                        </div>
                    </div>
                </div>

                <div class="track-list">
                    <div class="track-list-header">
                        <span>#</span>
                        <span>Title</span>
                        <!--<span>Album</span>-->
                        <span>Duration</span>
                        <span></span>
                    </div>
                    <div id="playlistDetailTracks">
                        <!-- Playlist tracks will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content" id="settings">
            <div class="section-card" id="music-directory">
                <h2 class="section-title">Music Directory</h2>
                <div class="form-group">
                    <input type="text" class="form-input" placeholder="Music directory path..." id="musicDirectoryInput" value="./music">
                    <button class="btn btn-secondary" id="updateDirectoryBtn">Update</button>
                </div>
            </div>

            <div class="section-card">
                <h2 class="section-title">Data Management</h2>
                <div class="form-group">
                    <button class="btn" id="exportDataBtn">Export Data</button>
                    <button class="btn btn-secondary" id="importDataBtn">Import Data</button>
                    <input type="file" id="importDataInput" accept=".json" style="display: none;">
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="audioPlayer" preload="none"></audio>

    <!-- Mini Player -->
    <div class="mini-player" id="miniPlayer">
       
        <div class="mini-player-content">
            <div class="mini-player-art" id="miniPlayerArt">‚ô™</div>
            <div class="mini-player-info">
                <div class="mini-player-title" id="miniPlayerTitle">Select a song</div>
                <div class="mini-player-artist" id="miniPlayerArtist">Unknown Artist</div>
            </div>
            <div class="mini-player-controls">
                <button class="control-btn" id="miniPrevBtn">
                    <svg class="icon" viewBox="0 0 24 24">
                        <polygon points="19 20 9 12 19 4 19 20"/>
                        <line x1="5" y1="19" x2="5" y2="5"/>
                    </svg>
                </button>
                <button class="control-btn play-pause-btn" id="miniPlayPauseBtn" style="width: 40px; height: 40px;">
                    <svg class="icon" viewBox="0 0 24 24">
                        <polygon points="5 3 19 12 5 21 5 3"/>
                    </svg>
                </button>
                <button class="control-btn" id="miniNextBtn">
                    <svg class="icon" viewBox="0 0 24 24">
                        <polygon points="5 4 15 12 5 20 5 4"/>
                        <line x1="19" y1="5" x2="19" y2="19"/>
                    </svg>
                </button>
            </div>
        </div>
         <div class="mini-progress-bar">
            <div class="mini-progress-fill" id="miniProgressFill"></div>
        </div>
    </div>

    <!-- Full Player Overlay -->
    <div class="player-overlay" id="playerOverlay">
          <button class="back-btn" id="minimizePlayer" title="Minimize Player">
                   <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                  <line x1="4" y1="9" x2="12" y2="17" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round"/>
                  <line x1="20" y1="9" x2="12" y2="17" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round"/>
                </svg>


                </button>
        <div class="player-overlay-content">
            <div class="player-header">
              
            <div style="font-weight: 600; color: var(--text-primary);">Now Playing</div>
                <button class="player-close" id="playerClose" title="Close Player">
                    <svg class="icon icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>

            <div class="player-art-container">
                <div class="player-art" id="playerArt">‚ô™</div>
            </div>

            <div class="player-info">
                <div class="player-title" id="playerTitle">Select a song</div>
                <div class="player-artist" id="playerArtist">Unknown Artist</div>
            </div>

            <div class="progress-section">
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                    <div class="progress-dot"></div>
                </div>
                <div class="time-display">
                    <span id="currentTime">0:00</span>
                    <span id="totalTime">0:00</span>
                </div>
            </div>

            <div class="player-controls">
                <button class="control-btn" id="shuffleBtn" title="Shuffle">
                    <svg class="icon icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="16,3 21,3 21,8"/>
                        <line x1="4" y1="20" x2="21" y2="3"/>
                        <polyline points="21,16 21,21 16,21"/>
                        <line x1="15" y1="15" x2="21" y2="21"/>
                        <line x1="4" y1="4" x2="9" y2="9"/>
                    </svg>
                </button>
                <button class="control-btn" id="prevBtn" title="Previous">
                    <svg class="icon icon-lg" viewBox="0 0 24 24">
                        <polygon points="19 20 9 12 19 4 19 20"/>
                        <line x1="5" y1="19" x2="5" y2="5"/>
                    </svg>
                </button>
                <button class="control-btn play-pause-btn" id="playPauseBtn">
                    <svg class="icon icon-xl" viewBox="0 0 24 24">
                        <polygon points="5 3 19 12 5 21 5 3"/>
                    </svg>
                </button>
                <button class="control-btn" id="nextBtn" title="Next">
                    <svg class="icon icon-lg" viewBox="0 0 24 24">
                        <polygon points="5 4 15 12 5 20 5 4"/>
                        <line x1="19" y1="5" x2="19" y2="19"/>
                    </svg>
                </button>
                <button class="control-btn" id="repeatBtn" title="Repeat">
                    <svg class="icon icon-lg" viewBox="0 0 24 24">
                        <polyline points="17 1 21 5 17 9"/>
                        <path d="M3 11V9a4 4 0 0 1 4-4h14"/>
                        <polyline points="7 23 3 19 7 15"/>
                        <path d="M21 13v2a4 4 0 0 1-4 4H3"/>
                    </svg>
                </button>
            </div>
            <div class="volume-control">
    <button class="volume-icon" id="volumeBtn">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.08"/>
        </svg>
    </button>
    <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="80">
    <span class="volume-text" id="volumeText">80%</span>
</div>
        </div>
    </div>

    <!-- Playlist Selection Modal -->
    <div class="playlist-modal" id="playlistModal">
        <div class="playlist-modal-content">
            <div class="modal-header">
                <div class="modal-title">Add to Playlist</div>
                <button class="modal-close" id="playlistModalClose">
                  <svg class="icon icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            
            <div class="modal-body" id="playlistModalBody">
                <!-- Playlists will be populated here -->
            </div>
            
            <div class="create-new-playlist">
                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 0.5rem;">Or create a new playlist</div>
                <div class="quick-create">
                    <input type="text" placeholder="New playlist name..." id="quickCreateInput">
                    <button class="btn" id="quickCreateBtn">Create & Add</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>